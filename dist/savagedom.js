/*
 * SavageDOM 1.3.0 (https://github.com/molisani/SavageDOM) 
 * Copyright 2018 Michael Molisani
 * Licensed under LGPL-3.0 (https://github.com/molisani/SavageDOM/blob/master/LICENSE)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3"),require("rxjs"),require("rxjs").operators):"function"==typeof define&&define.amd?define("SavageDOM",["d3","rxjs"],e):"object"==typeof exports?exports.SavageDOM=e(require("d3"),require("rxjs"),require("rxjs").operators):t.SavageDOM=e(t.d3,t.rxjs,t.rxjs.operators)}(window,function(t,e,n){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=62)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3);e.FilterPrimitive=class extends r.Element{constructor(t,e,n={},r=t.getUniquePrimitiveReference()){super(t.context,e,n,`${t.id}-${r}`),this._ref=r,this.setAttribute("result",r),t.add(this)}toString(){return this._ref}}},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=n(13);class s{constructor(t,e){this.x=t,this.y=e}toString(){return`${this.x},${this.y}`}parse(t){if(null!==t){const e=t.split(",");return new s(i.LengthParse(e[0]),i.LengthParse(e[1]))}return new s(0,0)}get(t,e){const n=e.split(":");if(2===n.length){const e=t.getAttribute(n[0]),r=t.getAttribute(n[1]);return null!==e&&null!==r?new s(i.LengthParse(e),i.LengthParse(r)):new s(0,0)}return this.parse(t.getAttribute(e))}set(t,e,n){const r=e.split(":");2===r.length?void 0!==n?(t.setAttribute(r[0],n.x.toString()),t.setAttribute(r[1],n.y.toString())):(t.setAttribute(r[0],this.x.toString()),t.setAttribute(r[1],this.y.toString())):void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.Point=s},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function c(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(11),s=n(22),o=n(21),c=n(15),u=n(16),a=n(9),l=n(24);class d{constructor(t,e,n,r=l.randomShortStringId()){if(this.context=t,this._id=r,this._pendingRenders=[],this._linkedAttributes={},"string"==typeof e)this._node=this.context.window.document.createElementNS(a.XMLNS,e),this.context.addChild(this._node),void 0!==n&&this.setAttributes(n),this._node.setAttribute("id",this._id);else{this._node=e;const t=this._node.getAttribute("id");null!==t?this._id=t:this._node.setAttribute("id",this._id)}this._style=this.context.window.getComputedStyle(this._node)}get id(){return this._id}get node(){return this._node}toString(){return`url(#${this._id})`}renderAttribute(t,e){o.isAttribute(e)?e.set(this._node,t):Array.isArray(e)?this._node.setAttribute(t,e.join("\t")):this._node.setAttribute(t,String(e))}setAttribute(t,e){const n=s.Renderer.getInstance().queueAttributeUpdate(this,t,e);this._pendingRenders.push(n)}setAttributes(t){const e=s.Renderer.getInstance().queueAttributeUpdate(this,t);this._pendingRenders.push(e)}animateAttribute(t,e,n,r){let i;if("number"==typeof e)i=new u.NumberWrapper(e);else{if(!o.isAttribute(e))return;i=e}const c=i.get(this._node,t);return s.Renderer.getInstance().registerAttributeInterpolation(this,t,i.interpolator(c),n,r)}linkDynamicAttribute(t,e){const n=s.Renderer.getInstance().subscribeAttributeObservable(this,t,e),r=this._linkedAttributes[t];return r&&!r.closed&&r.unsubscribe(),this._linkedAttributes[t]=n,n}flush(){return r(this,void 0,void 0,function*(){if(0===this._pendingRenders.length)return performance.now();const t=Promise.all(this._pendingRenders);this._pendingRenders=[];const e=yield t;return Math.max(...e)})}getAttribute(t){const e=this._node.getAttribute(t)||this._style.getPropertyValue(t);return""===e||"none"===e?null:e}copyStyleFrom(t,e,n=!0){const r={},i=t._node.attributes;if(e)for(let s=0;s<i.length;++s){const o=i.item(s);if(o){const i=o.name;(!0===e[i]||n)&&(r[i]=t._style.getPropertyValue(i))}}else for(let e=0;e<i.length;++e){const n=i.item(e);if(n){const e=n.name;r[e]=t._style.getPropertyValue(e)}}this.setAttributes(r)}getEvent(t){return i.fromEvent(this._node,t)}getEvents(...t){return i.merge(...t.map(t=>i.fromEvent(this._node,t)))}get boundingBox(){const t=this._node.getBoundingClientRect();return new c.Box(t.left,t.top,t.width,t.height)}add(t){t instanceof SVGElement?this._node.appendChild(t):(t.context=this.context,this._node.appendChild(t._node))}getChildren(){const t=this._node.childNodes,e=[];for(let n=0;n<t.length;++n)e.push(new d(this.context,t.item(n)));return e}clone(t=!0,e=l.randomShortStringId()){const n=new d(this.context,this._node.cloneNode(t));return n._id=e,n._node.setAttribute("id",n._id),n}destroy(){this._node.remove()}cloneNode(t=!0){const e=this._node.cloneNode(t);return e.setAttribute("id",l.randomShortStringId()),e}}e.Element=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5);e.AbstractShape=class extends r.AbstractRenderable{}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function c(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(12),s=n(33),o=n(2),c=n(20),u=n(3);e.AbstractRenderable=class extends u.Element{getPointEvents(...t){return this.getEvents(...t).pipe(i.map(t=>{let e;if(t instanceof MouseEvent)e=t;else{if(!(t instanceof TouchEvent))throw new Error(`The event "${t.type}" is not a PointEvent and thus has no corresponding Point`);e=t.touches[0]}const n=this.context.calculateLocalPoint(this.node,e);return Object.assign({},t,{local:new o.Point(n.x,n.y),page:new o.Point(e.pageX,e.pageY),screen:new o.Point(e.screenX,e.screenY)})}))}reparent(t,e,n=s.linear){return r(this,void 0,void 0,function*(){const r=this.context.group(),i=this.context.root.getScreenCTM();if(i){const s=i.inverse(),o=t.node.getScreenCTM();if(o){const e=this.context.root.createSVGTransformFromMatrix(s.multiply(o));r.node.transform.baseVal.initialize(e),r.add(t)}const u=this.node.getScreenCTM();if(u){const t=new c.TransformList([c.Transform.matrix(s.multiply(u))]);yield r.animateAttribute("transform",t,e,n)}}this.add(t),r.destroy()})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3);e.AbstractNonRenderable=class extends r.Element{}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);class i{constructor(t,e){this.value=t,this.unit=e}toString(){return`${this.value}${this.unit}`}parse(t){if(null!==t){const e=t.match(/(\d+|\d+\.\d+)(\w+|%)/i);return null!==e?this._convert(parseFloat(e[1]),e[2]):new i(parseFloat(t),this.unit)}return new i(0,this.unit)}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=this._convert(t.value,t.unit),n=r.interpolate(e.toString(),this.toString());return t=>this.parse(n(t))}_convert(t,e){const n=i.convert[this.unit]/i.convert[e]||1;return new i(t*n,this.unit)}}i.convert={px:1,in:96,cm:254/96,mm:25.4/96,pt:.75,pc:9,deg:1,grad:.9,rad:180/Math.PI,turn:360},e.Dimension=i;e.Percentage=class extends i{constructor(t){super(t,"%")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(19),i=n(5);class s extends i.AbstractRenderable{constructor(t,e,n=[]){super(t,"g",e),this.constructor.name!==s.name&&this._node.setAttribute("data-class",this.constructor.name),n.forEach(t=>this.add(t))}toPattern(t,e,n,i,s){const o=new r.Pattern(this.context,t,e,n,i,s);return this.getChildren().forEach(t=>o.add(t)),o}}e.Group=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XMLNS="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink"},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function c(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(11),s=n(12),o=n(2),c=n(9),u=n(14),a=n(3),l=n(25),d=n(26),h=n(27),p=n(28),f=n(29),b=n(19),g=n(30),m=n(34),v=n(8),_=n(35),w=n(36),P=n(37),y=n(38),x=n(39),S=n(40),A=n(41),T=n(42),O=n(43);class M{constructor(t,e=M.DEFAULT_WINDOW){if(this._window=e,t)if("string"==typeof t){const e=this._window.document.getElementById(t);if(!(e instanceof SVGSVGElement))throw new Error("Element with specified ID is not valid");this._root=e}else this._root=t;else this._root=this._window.document.createElementNS(c.XMLNS,"svg"),this._window.document.body.appendChild(this._root);this._root.setAttribute("xmlns",c.XMLNS),this._root.setAttributeNS(c.XMLNS,"xlink",c.XLINK),this._root.setAttribute("version","1.1");const n=this._root.getElementsByTagName("defs").item(0);this._defs=n?new a.Element(this,n):new a.Element(this,"defs"),M._CONTEXT_SUBJECT.next(this)}static get contexts(){return M._CONTEXT_SUBJECT.asObservable()}get root(){return this._root}get window(){return this._window}calculateLocalPoint(t,e){const n=this._root.createSVGPoint();n.x=e.clientX,n.y=e.clientY;const r=t.getScreenCTM();if(!r)throw new Error(`No Screen Coordinate Transform Matrix found for node "${t.id}"`);return n.matrixTransform(r.inverse())}get mousePosition(){return i.fromEvent(this._root,"mousemove").pipe(s.map(t=>{const e=this.calculateLocalPoint(this._root,t);return Object.assign({},t,{local:new o.Point(e.x,e.y),page:new o.Point(t.pageX,t.pageY),screen:new o.Point(t.screenX,t.screenY)})}))}addDef(t){this._defs.add(t)}addChild(t){t instanceof a.Element?(t.context=this,this._root.appendChild(t.node)):this._root.appendChild(t)}load(t){return r(this,void 0,void 0,function*(){const e=yield u.makeRequest("GET",t),n=new u.SVGDocument(this,e);return new g.ExternalSVG(this,n)})}clipPath(...t){return new l.ClipPath(this,...t)}marker(...t){return new d.Marker(this,...t)}mask(...t){return new h.Mask(this,...t)}linearGradient(...t){return new p.LinearGradient(this,...t)}radialGradient(...t){return new f.RadialGradient(this,...t)}pattern(...t){return new b.Pattern(this,...t)}foreignObject(...t){return new m.ForeignObject(this,...t)}group(...t){return new v.Group(this,...t)}imageAfterLoad(...t){return r(this,void 0,void 0,function*(){return _.Image.afterLoad(this,...t)})}circle(...t){return new w.Circle(this,...t)}ellipse(...t){return new P.Ellipse(this,...t)}line(...t){return new y.Line(this,...t)}path(...t){return new x.Path(this,...t)}polygon(...t){return new S.Polygon(this,...t)}polyline(...t){return new A.Polyline(this,...t)}rect(...t){return new T.Rect(this,...t)}text(...t){return new O.Text(this,...t)}}M.DEFAULT_WINDOW=window,M._CONTEXT_SUBJECT=new i.ReplaySubject(1),e.Context=M},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7);e.LengthParse=(t=>{const e=t.match(/(\d+|\d+\.\d+)(\w+|%)/i);return null!==e?new r.Dimension(parseFloat(e[1]),e[2]):parseFloat(t)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e,n="application/xml"){this._document=e instanceof Document?e:r.PARSER.parseFromString(e,n),Array.from(this._document.getElementsByTagName("defs")).forEach(e=>{if(e.parentNode){const n=e.parentNode.removeChild(e);for(;n.children.length>0;)t.addDef(n.children[0])}})}get children(){return this._document.documentElement?Array.prototype.slice.call(this._document.documentElement.children):[]}}r.PARSER=new DOMParser,e.SVGDocument=r,e.makeRequest=((t,e)=>new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(t,e,!0),i.onload=(()=>{if(i.status>=200&&i.status<300){const t=i.responseXML;null!==t?n(t):r({status:i.status,statusText:i.statusText})}}),i.onerror=(()=>{r({status:i.status,statusText:i.statusText})}),i.send()}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);class i{constructor(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}toString(){return`${this.x} ${this.y} ${this.width} ${this.height}`}parse(t){if(null!==t){const e=t.split(" ");return new i(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))}return new i(0,0,0,0)}get(t,e){const n=e.split(":");if(4===n.length){const e=t.getAttribute(n[0]),r=t.getAttribute(n[1]),s=t.getAttribute(n[2]),o=t.getAttribute(n[3]);return null!==e&&null!==r&&null!==s&&null!==o?new i(parseFloat(e),parseFloat(r),parseFloat(s),parseFloat(o)):new i(0,0,0,0)}return this.parse(t.getAttribute(e))}set(t,e,n){const r=e.split(":");4===r.length?void 0!==n?(t.setAttribute(r[0],n.x.toString()),t.setAttribute(r[1],n.y.toString()),t.setAttribute(r[2],n.width.toString()),t.setAttribute(r[3],n.height.toString())):(t.setAttribute(r[0],this.x.toString()),t.setAttribute(r[1],this.y.toString()),t.setAttribute(r[2],this.width.toString()),t.setAttribute(r[3],this.height.toString())):void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.Box=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);class i{constructor(t=0){this.n=t}toString(){return this.n.toString()}parse(t){return null!==t?new i(parseFloat(t)):new i}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){t.setAttribute(e,(void 0!==n?n:this).toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.NumberWrapper=i;class s{constructor(t=[]){this.arr=t}toString(){return this.arr.join("\t")}parse(t){if(null!==t){const e=t.split("\t");return new s(this.arr.map((t,n)=>t.parse(n>=e.length?null:e[n])))}return new s(this.arr.map(t=>t.parse(null)))}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){t.setAttribute(e,(void 0!==n?n:this).toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.ArrayWrapper=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7),i=n(3),s=n(18);class o extends i.Element{constructor(t,e,n){super(t,"stop",{offset:new r.Dimension(100*e,"%"),"stop-color":n}),this.offset=e}}e.Stop=o;e.AbstractGradient=class extends s.AbstractPaintServer{constructor(t,e,n,r){super(t,e,r),this.context.addDef(this);const i=[];Object.keys(n).forEach(e=>{i.push(new o(t,Number(e),n[e]))}),i.sort((t,e)=>t.offset-e.offset),i.forEach(t=>this.add(t))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6);e.AbstractPaintServer=class extends r.AbstractNonRenderable{}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(18);class i extends r.AbstractPaintServer{constructor(t,e,n=(e instanceof SVGPatternElement?0:e),r=0,i=0,s){super(t,e instanceof SVGPatternElement?e:"pattern",function(t,e,n,r,i){const s={};return t instanceof SVGPatternElement||(s.width=t,s.height=e,s.x=n,s.y=r,i?s.viewBox=i:s.patternUnits="userSpaceOnUse"),s}(e,n,r,i,s)),this.context.addDef(this)}clone(t=!0){return new i(this.context,super.cloneNode(t))}}e.Pattern=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=n(16);class s{constructor(t,e){this.type=t,this.args=e}static fromString(t){const e=t.indexOf("("),n=t.substring(0,e),r=t.substring(e+1,t.length-1).split(" ").map(parseFloat);return new s(n,r)}static matrix(t=1,e=0,n=0,r=1,i=0,o=0){return new s("matrix","number"==typeof t?[t,e,n,r,i,o]:[t.a,t.b,t.c,t.d,t.e,t.f])}static translate(t=0,e=0){return new s("translate",[t,e])}static rotate(t,e=0,n=0){return new s("rotate",[t,e,n])}static scale(t=1,e=t){return new s("scale",[t,e])}static skewX(t=0){return new s("skewX",[t])}static skewY(t=0){return new s("skewY",[t])}toString(){return`${this.type}(${this.args.join(", ")})`}parse(t){return console.log("parse",t),null!==t?s.fromString(t):s.matrix()}get(t,e){const n=e.split(".");if(2===n.length&&n[1]===this.type){const e=t.getAttribute(n[0]);if(e){const t=e.indexOf(this.type);if(t>-1)return this.parse(e.substring(t,e.indexOf(")",t)+1))}}return this.parse(null)}set(t,e,n){const r=String(void 0===n?this:n),i=e.split(".");if(2===i.length&&i[1]===this.type){const e=t.getAttribute(i[0]);if(e){const n=e.indexOf(this.type);if(n>-1){const s=`${e.substr(0,n)}${r}${e.substr(e.indexOf(")",n)+1)}`;t.setAttribute(i[0],s)}else t.setAttribute(i[0],r)}else t.setAttribute(i[0],r)}else t.setAttribute(e,r)}interpolator(t){const e=r.interpolateTransformSvg(t.toString(),this.toString());return t=>this.parse(e(t))}}e.Transform=s;const o=/([a-z]+\(.*?\))/gi;class c extends i.ArrayWrapper{parse(t){if(null!==t){const e=Array.from(t.match(o)||[]);return new c(e.map(s.fromString))}return new c}interpolator(t){const e=r.interpolateTransformSvg(t.toString(),this.toString());return t=>this.parse(e(t))}}e.TransformList=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAttribute=(t=>t&&"function"==typeof t.interpolator&&"function"==typeof t.parse)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(12),s=n(24);class o{constructor(){this._animationFrame=r.interval(0,r.animationFrameScheduler),this._attributeUpdates=new r.Subject,this._attributeInterpolations={},this._attributeUpdates.pipe(i.bufferWhen(()=>this._animationFrame)).subscribe(t=>this._render(t))}static getInstance(){return o._instance}queueAttributeUpdate(t,e,n){if("string"==typeof e)return new Promise(r=>{this._attributeUpdates.next({el:t,attribute:{name:e,val:n},resolve:r})});if("object"==typeof e)return Promise.all(Object.keys(e).map(n=>new Promise(r=>{this._attributeUpdates.next({el:t,attribute:{name:n,val:e[n]},resolve:r})}))).then(t=>Math.max(...t));throw new Error("No attributes specified for attribute update")}registerAttributeInterpolation(t,e,n,r,i){return new Promise(o=>{const c=s.randomShortStringId(),u=performance.now(),a=[{name:e,val:n}];this._attributeInterpolations[c]={el:t,attributes:a,start:u,duration:r,easing:i,resolve:o}})}subscribeAttributeObservable(t,e,n){return n.pipe(i.bufferWhen(()=>this._animationFrame),i.filter(t=>t.length>0),i.map(n=>({el:t,attribute:{name:e,val:n[n.length-1]}}))).subscribe(this._attributeUpdates)}_render(e){const n=performance.now(),r=[];e.forEach(({el:t,attribute:e,resolve:n})=>{t.renderAttribute(e.name,e.val),n&&r.push(n)}),Object.keys(this._attributeInterpolations).forEach(t=>{const e=this._attributeInterpolations[t],i=n>=e.start+e.duration,s=i?1:e.easing((n-e.start)/e.duration);e.attributes.forEach(t=>{const n=t.val(s);e.el.renderAttribute(t.name,n)}),i&&(delete this._attributeInterpolations[t],e.resolve&&r.push(e.resolve))}),r.length>0&&t(()=>{r.forEach(t=>t(n))})}}o._instance=new o,e.Renderer=o}).call(this,n(63).setImmediate)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomShortStringId=(()=>Math.random().toString(36).substring(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6);e.ClipPath=class extends r.AbstractNonRenderable{constructor(t,e,n,r,i,s,o){super(t,"clipPath",function(t,e,n,r,i,s){return{width:t,height:e,x:n,y:r,maskUnits:i,maskContentUnits:s}}(e,n,r,i,s,o)),this.context=t,this.context.addDef(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6);e.Marker=class extends r.AbstractNonRenderable{constructor(t,e){super(t,"marker",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6);e.Mask=class extends r.AbstractNonRenderable{constructor(t,e,n,r,i,s,o){super(t,"mask",function(t,e,n,r,i,s){return{width:t,height:e,x:n,y:r,maskUnits:i,maskContentUnits:s}}(e,n,r,i,s,o)),this.context=t,this.context.addDef(this)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(17);e.LinearGradient=class extends r.AbstractGradient{constructor(t,e,n){super(t,"linearGradient",e,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(17);e.RadialGradient=class extends r.AbstractGradient{constructor(t,e,n){super(t,"radialGradient",e,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(10),i=n(14),s=n(31),o=n(8);e.ExternalSVG=class extends o.Group{constructor(t,e,n){super(t,n),e.children.forEach(e=>{const n=t.window.document.importNode(e,!0);this.add(n)})}},e.buildExternalComponentClass=function(t,e={x:0,y:0}){const n=i.makeRequest("GET",t),o=r.Context.contexts.toPromise(),c=Promise.all([o,n]).then(([t,e])=>new i.SVGDocument(t,e));return class extends s.Component{constructor(){super(e),this.loaded=c.then(t=>{t.children.forEach(t=>{const e=this.context.window.document.importNode(t,!0);this.add(e)})}),this._node.setAttribute("data-source-url",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(32),i=n(20),s=n(10),o=n(8);class c extends o.Group{constructor(t,e=r.linear){super(c.context),this.easing=e,this._hidden=!1;const n=[i.Transform.translate(),i.Transform.rotate(0),i.Transform.scale()];t&&n.push(i.Transform.translate(-t.x,-t.y)),this.setAttribute("transform",new i.TransformList(n))}static get context(){if(!c._CONTEXT)throw new ReferenceError("No static Component context found. Set one manually, or subscribe to the latest created context.");return c._CONTEXT}static set context(t){c._CONTEXT_SUBSCRIPTION&&c._CONTEXT_SUBSCRIPTION.unsubscribe(),c._CONTEXT=t}static subscribeLatestContext(){c._CONTEXT_SUBSCRIPTION||(c._CONTEXT_SUBSCRIPTION=s.Context.contexts.subscribe(t=>{c._CONTEXT=t}))}moveTo(t,e,n=0){0===n?this.setAttribute("transform.translate",i.Transform.translate(t,e)):this.animateAttribute("transform.translate",i.Transform.translate(t,e),n,this.easing)}rotate(t,e=0){0===e?this.setAttribute("transform.rotate",i.Transform.rotate(t)):this.animateAttribute("transform.rotate",i.Transform.rotate(t),e,this.easing)}scale(t,e=t,n=0){0===n?this.setAttribute("transform.scale",i.Transform.scale(t,e)):this.animateAttribute("transform.scale",i.Transform.scale(t,e),n,this.easing)}show(){this._hidden||(this.setAttribute("opacity",1),this._hidden=!1)}hide(){this._hidden&&(this.setAttribute("opacity",0),this._hidden=!0)}}e.Component=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=(t,e)=>({a:1-3*e+3*t,b:3*e-6*t,c:3*t}),i=(t,e)=>((e.a*t+e.b)*t+e.c)*t,s=(t,e)=>(3*e.a*t+2*e.b)*t+e.c;e.cubicBezier=((t,e,n,o)=>{if(t===e&&n===o)return t=>t;const c=r(t,n),u=r(e,o),a=new Float32Array(17);for(let t=0;t<17;++t)a[t]=i(t/16,c);return t=>i(((t,e,n)=>{const r=Math.min(Math.max(t.findIndex(t=>t>e)-1,1),t.length-1);let o=((e-t[r])/(t[r+1]-t[r])+r-1)/16;for(let t=0;t<5;++t){const t=s(o,n);if(0===t)break;o-=(i(o,n)-e)/t}return o})(a,t,c),u)});const o=t=>e=>1-t(1-e),c=(t,e)=>n=>n<.5?t(2*n)/2:e(2*n-1)/2+.5,u=1.70158;e.linear=(t=>t),e.step=Math.round,e.quadraticIn=(t=>Math.pow(t,2)),e.quadraticOut=o(e.quadraticIn),e.quadratic=c(e.quadraticIn,e.quadraticOut),e.cubicIn=(t=>Math.pow(t,3)),e.cubicOut=o(e.cubicIn),e.cubic=c(e.cubicIn,e.cubicOut),e.quarticIn=(t=>Math.pow(t,4)),e.quarticOut=o(e.quarticIn),e.quartic=c(e.quarticIn,e.quarticOut),e.quinticIn=(t=>Math.pow(t,5)),e.quinticOut=o(e.quinticIn),e.quintic=c(e.quinticIn,e.quinticOut),e.sineIn=(t=>1-Math.cos(t*Math.PI/2)),e.sineOut=o(e.sineIn),e.sine=c(e.sineIn,e.sineOut),e.exponentialIn=(t=>Math.pow(2,10*(t-1))),e.exponentialOut=o(e.exponentialIn),e.exponential=c(e.exponentialIn,e.exponentialOut),e.circularIn=(t=>1-Math.sqrt(1-Math.pow(t,2))),e.circularOut=o(e.circularIn),e.circular=c(e.circularIn,e.circularOut),e.backIn=(t=>Math.pow(t,2)*((u+1)*t-u)),e.backOut=o(e.backIn),e.back=c(e.backIn,e.backOut),e.elasticIn=(t=>Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1),e.elasticOut=o(e.elasticIn),e.elastic=c(e.elasticIn,e.elasticOut)},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(32)),r(n(22))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5);e.ForeignObject=class extends r.AbstractRenderable{constructor(t,e,n){super(t,"foreignObject",e),n&&this.addHTML(n)}addHTML(t){this._node.appendChild(t)}remove(t){this._node.removeChild(t)}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function c(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,c)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(5);class s extends i.AbstractRenderable{static afterLoad(t,e,n={}){return r(this,void 0,void 0,function*(){const r=new s(t,n),i=r.getEvent("load").toPromise();return r.setAttribute("href",e),yield i,r})}constructor(t,e){super(t,"image",e)}}e.Image=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),i=n(4);e.Circle=class extends i.AbstractShape{constructor(t,e,n,i){super(t,"circle",function(t,e,n){return t instanceof r.Point?{"cx:cy":t,r:e}:{cx:t,cy:e,r:n}}(e,n,i))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),i=n(4);e.Ellipse=class extends i.AbstractShape{constructor(t,e,n,i,s){super(t,"ellipse",function(t,e,n,i){let s={};const o=t instanceof r.Point,c=e instanceof r.Point;return o&&c?s={"cx:cy":t,"rx:ry":e}:o||c||(s={cx:t,cy:e,rx:n,ry:i}),s}(e,n,i,s))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2),i=n(4);e.Line=class extends i.AbstractShape{constructor(t,e,n,i,s){super(t,"line",function(t,e,n,i){let s={};const o=t instanceof r.Point,c=e instanceof r.Point;return o&&c?s={"x1:y1":t,"x2:y2":e}:o||c||(s={x1:t,y1:e,x2:n,y2:i}),s}(e,n,i,s))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(4);e.Path=class extends r.AbstractShape{constructor(t,e,n){super(t,"path",function(t,e){return{d:t,pathLength:e}}(e,n))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(4);e.Polygon=class extends r.AbstractShape{constructor(t,e){super(t,"polygon",function(t){return{points:t}}(e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(4);e.Polyline=class extends r.AbstractShape{constructor(t,e){super(t,"polyline",function(t){return{points:t}}(e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(15),i=n(2),s=n(4);e.Rect=class extends s.AbstractShape{constructor(t,e,n,s,o,c,u){super(t,"rect",function(t,e,n,s,o,c){const u={};return t instanceof r.Box?(u["x:y:width:height"]=t,e instanceof i.Point?u["rx:ry"]=e:(void 0!==e&&(u.rx=e),void 0!==n&&(u.ry=n))):t instanceof i.Point?(u["x:y"]=t,void 0===e||e instanceof i.Point||(u.width=e),void 0!==n&&(u.height=n),s instanceof i.Point?u["rx:ry"]=s:(void 0!==s&&(u.rx=s),void 0===o||o instanceof i.Point||(u.ry=o))):(u.x=t,void 0===e||e instanceof i.Point||(u.y=e),void 0!==n&&(u.width=n),void 0===s||s instanceof i.Point||(u.height=s),o instanceof i.Point?u["rx:ry"]=o:(void 0!==o&&(u.rx=o),void 0!==c&&(u.ry=c))),u}(e,n,s,o,c,u))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7),i=n(2),s=n(44),o=n(5);class c extends o.AbstractRenderable{constructor(t,e){super(t,"tspan",e)}get computedLength(){return this._node.getComputedTextLength()}}e.TextSpan=c;class u extends o.AbstractRenderable{constructor(t,e,n,r){super(t,"text",function(t,e){return t instanceof i.Point?{"x:y":t}:{x:t,y:e}}(n,r)),e&&this.addSpan(e)}addSpan(t,e,n=!0){const i=new c(this.context);return i.setAttribute("textContent",new s.TextContent(t)),e&&(i.setAttribute("x",parseFloat(this.getAttribute("x")||"0")),"number"==typeof e?i.setAttribute("dy",new r.Dimension(e,"em")):i.setAttribute("dy",e)),this.add(i),i}get computedLength(){return this._node.getComputedTextLength()}}e.Text=u;e.MultilineText=class extends u{constructor(t,e,n,r){super(t,"",r["x:y"]||r.x,r.y);const i=new u(t,"",r["x:y"]||r.x,r.y);i.setAttribute("opacity",0);const o=new c(t,r);i.add(o);const a=[""];e.split(" ").forEach((t,e)=>{const r=a[a.length-1],i=0===r.length?t:`${r} ${t}`,c=new s.TextContent(i);o.setAttribute("textContent",c),o.computedLength>n&&r.length>0?a.push(t):a[a.length-1]=i}),a.forEach(t=>{t.length>0&&this.addSpan(t,1)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);class i{static escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}constructor(t){this._cb="string"==typeof t?()=>t:t}toString(){return this._cb()}parse(t){return new i(t||"")}get(t,e){return this.parse(t.textContent)}set(t,e,n){t.textContent=i.escapeHtml(this._cb())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.TextContent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Blend_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feBlend",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.ColorMatrix_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feColorMatrix",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3),i=n(0);e.TransferFunction_Primitive=class extends r.Element{constructor(t,e,n){super(t.context,`feFunc${e}`,n)}};e.ComponentTransfer_Primitive=class extends i.FilterPrimitive{constructor(t,e){super(t,"feComponentTransfer",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Composite_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feComposite",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.ConvolveMatrix_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feConvolveMatrix",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.DisplacementMap_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feDisplacementMap",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Flood_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feFlood",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.GaussianBlur_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feGaussianBlur",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Image_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feImage",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.DiffuseLighting=class extends r.FilterPrimitive{constructor(t,e){super(t,"feDiffuseLighting",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3);class i extends r.Element{constructor(t,e,n){super(t.context,e,n)}}e.AbstractLightSource=i;e.DistantLight=class extends i{constructor(t,e){super(t,"feDistantLight",e)}};e.PointLight=class extends i{constructor(t,e){super(t,"fePointLight",e)}};e.SpotLight=class extends i{constructor(t,e){super(t,"feSpotLight",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.SpecularLighting=class extends r.FilterPrimitive{constructor(t,e){super(t,"feSpecularLighting",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.MergeNode_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feMergeNode",e)}};e.Merge_Primitive=class extends r.FilterPrimitive{constructor(t){super(t,"feMerge")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Morphology_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feMorphology",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Offset_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feOffset",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Tile_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feTile",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.Turbulence_Primitive=class extends r.FilterPrimitive{constructor(t,e){super(t,"feTurbulence",e)}}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(21)),r(n(9)),r(n(10)),r(n(14)),r(n(3)),r(n(66));const i=n(33);e.Animation=i;const s=n(67);e.Attributes=s;const o=n(74);e.Elements=o},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new s(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(64),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(23))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,s,o,c,u=1,a={},l=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((s=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){s.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(t){var e=d.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(o="setImmediate$"+Math.random()+"$",c=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",c,!1):t.attachEvent("onmessage",c),r=function(e){t.postMessage(o+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return a[u]=i,r(u),u++},h.clearImmediate=p}function p(t){delete a[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=a[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(23),n(65))},function(t,e){var n,r,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,a=[],l=!1,d=-1;function h(){l&&u&&(l=!1,u.length?a=u.concat(a):d=-1,a.length&&p())}function p(){if(!l){var t=c(h);l=!0;for(var e=a.length;e;){for(u=a,a=[];++d<e;)u&&u[d].run();d=-1,e=a.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function b(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new f(t,e)),1!==a.length||l||c(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=b,i.addListener=b,i.once=b,i.off=b,i.removeListener=b,i.removeAllListeners=b,i.emit=b,i.prependListener=b,i.prependOnceListener=b,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._lerp=((t,e,n)=>t+(e-t)*n)},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(13)),r(n(15)),r(n(68)),r(n(69)),r(n(7)),r(n(70)),r(n(71)),r(n(72)),r(n(2)),r(n(73)),r(n(44)),r(n(20)),r(n(16))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=n(1);class s{constructor(t,e=s.DEFAULT_INTERPOLATION){if(this.interpolationFactory=e,"string"==typeof t){const e=r.color(t);if(!e)throw new Error(`Unable to parse color from string "${t}"`);this._data=e}else this._data=r.color(t)}asRGB(){return r.rgb(this._data)}asHSL(){return r.hsl(this._data)}toString(){return this._data.toString()}parse(t){return new s(null!==t?t:"#000")}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=this.interpolationFactory(t.toString(),this.toString());return t=>this.parse(e(t))}}s.DEFAULT_INTERPOLATION=i.interpolateRgb,e.Color=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);!function(t){class e{constructor(t=[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0]]){this.type="matrix",this.arr=[],this.arr=this.arr.concat(...t)}toString(){return this.arr.join(" ")}parse(t){return new e(null!==t?[t.split(" ").map(parseFloat)]:[])}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}t.Raw=e;class n{constructor(t=1){this.value=t,this.type="saturate"}toString(){return this.value.toString()}parse(t){return null!==t?new n(parseFloat(t)):new n}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}t.Saturate=n;class i{constructor(t=0){this.value=t,this.type="hueRotate"}toString(){return this.value.toString()}parse(t){return null!==t?new i(parseFloat(t)):new i}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}t.HueRotate=i;t.LuminanceToAlphaColorMatrix=class{constructor(){this.type="luminanceToAlpha"}toString(){return""}}}(e.ColorMatrix||(e.ColorMatrix={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);class i{constructor(t){this.arr=[],this.arr=this.arr.concat(...t)}toString(){return this.arr.join(" ")}parse(t){return new i(null!==t?[t.split(" ").map(parseFloat)]:[])}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.Matrix=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);class i{constructor(t,e){this.n=t,this.o=e}toString(){return void 0!==this.o?`${this.n},${this.o}`:this.n.toString()}parse(t){if(null!==t){const e=t.split(",");return 1===e.length?new i(parseFloat(e[0])):new i(parseFloat(e[0]),parseFloat(e[1]))}return new i(0)}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.NumberOptionalNumber=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=n(13),s=n(2);class o{constructor(t){this.command=t}parse(t){return null!==t?this.parseArgs(t.substr(2)):this.defaultInstance()}get(t,e){return this.parse(t.getAttribute(e))}set(t,e,n){void 0!==n?t.setAttribute(e,n.toString()):t.setAttribute(e,this.toString())}interpolator(t){const e=r.interpolate(t.toString(),this.toString());return t=>this.parse(e(t))}}e.PathSegment=o,function(t){let e;!function(t){t.MoveToAbs="M",t.MoveToRel="m",t.ClosePath="Z",t.LineToAbs="L",t.LineToRel="l",t.LineToHorizontalAbs="H",t.LineToHorizontalRel="h",t.LineToVerticalAbs="V",t.LineToVerticalRel="v",t.CurveToCubicAbs="C",t.CurveToCubicRel="c",t.CurveToCubicSmoothAbs="S",t.CurveToCubicSmoothRel="s",t.CurveToQuadraticAbs="Q",t.CurveToQuadraticRel="q",t.CurveToQuadraticSmoothAbs="T",t.CurveToQuadraticSmoothRel="t",t.ArcToAbs="A",t.ArcToRel="a"}(e=t.Command||(t.Command={}));class n extends t{constructor(t,e=0){super(t),this.l=e}toString(){return`${this.command} ${this.l.toString()}`}parseArgs(t){return this.buildInstance(i.LengthParse(t))}}t.SingleLength=n;class r extends t{constructor(t,e=new s.Point(0,0)){super(t),this.p=e}toString(){return`${this.command} ${this.p.toString()}`}parseArgs(t){return this.buildInstance(this.p.parse(t))}}t.SinglePoint=r;class o extends t{constructor(t,e=new s.Point(0,0),n=new s.Point(0,0)){super(t),this.p1=e,this.p2=n}toString(){return`${this.command} ${this.p1.toString()} ${this.p2.toString()}`}parseArgs(t){const e=t.split(" ");return this.buildInstance(this.p1.parse(e[0]),this.p2.parse(e[1]))}}t.DoublePoint=o;class c extends t{constructor(t,e=new s.Point(0,0),n=new s.Point(0,0),r=new s.Point(0,0)){super(t),this.p1=e,this.p2=n,this.p3=r}toString(){return`${this.command} ${this.p1.toString()} ${this.p2.toString()} ${this.p3.toString()}`}parseArgs(t){const e=t.split(" ");return this.buildInstance(this.p1.parse(e[0]),this.p2.parse(e[1]),this.p3.parse(e[2]))}}t.TriplePoint=c;class u extends r{constructor(t=new s.Point(0,0),n=0){super(e.MoveToAbs,t instanceof s.Point?t:new s.Point(t,n))}buildInstance(t){return new u(t)}defaultInstance(){return new u}}t.MoveToAbs=u;class a extends r{constructor(t=new s.Point(0,0),n=0){super(e.MoveToRel,t instanceof s.Point?t:new s.Point(t,n))}buildInstance(t){return new a(t)}defaultInstance(){return new a}}t.MoveToRel=a;class l extends t{constructor(){super(e.ClosePath)}toString(){return e.ClosePath}parseArgs(t){return new l}defaultInstance(){return new l}}t.ClosePath=l;class d extends r{constructor(t=new s.Point(0,0),n=0){super(e.LineToAbs,t instanceof s.Point?t:new s.Point(t,n))}buildInstance(t){return new d(t)}defaultInstance(){return new d}}t.LineToAbs=d;class h extends r{constructor(t=new s.Point(0,0),n=0){super(e.LineToRel,t instanceof s.Point?t:new s.Point(t,n))}buildInstance(t){return new h(t)}defaultInstance(){return new h}}t.LineToRel=h;class p extends n{constructor(t=0){super(e.LineToHorizontalAbs,t)}buildInstance(t){return new p(t)}defaultInstance(){return new p}}t.LineToHorizontalAbs=p;class f extends n{constructor(t=0){super(e.LineToHorizontalRel,t)}buildInstance(t){return new f(t)}defaultInstance(){return new f}}t.LineToHorizontalRel=f;class b extends n{constructor(t=0){super(e.LineToVerticalAbs,t)}buildInstance(t){return new b(t)}defaultInstance(){return new b}}t.LineToVerticalAbs=b;t.LineToVerticalRel=class extends n{constructor(t=0){super(e.LineToVerticalRel,t)}buildInstance(t){return new b(t)}defaultInstance(){return new b}};class g extends c{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r=new s.Point(0,0),i,o,c){const u=t instanceof s.Point?t:new s.Point(t,n),a=n instanceof s.Point?n:new s.Point(r,i),l=r instanceof s.Point?r:new s.Point(o,c);super(e.CurveToCubicAbs,u,a,l)}buildInstance(t,e,n){return new g(t,e,n)}defaultInstance(){return new g}}t.CurveToCubicAbs=g;class m extends c{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r=new s.Point(0,0),i,o,c){const u=t instanceof s.Point?t:new s.Point(t,n),a=n instanceof s.Point?n:new s.Point(r,i),l=r instanceof s.Point?r:new s.Point(o,c);super(e.CurveToCubicRel,u,a,l)}buildInstance(t,e,n){return new m(t,e,n)}defaultInstance(){return new m}}t.CurveToCubicRel=m;class v extends o{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r,i){const o=t instanceof s.Point?t:new s.Point(t,n),c=n instanceof s.Point?n:new s.Point(r,i);super(e.CurveToCubicSmoothAbs,o,c)}buildInstance(t,e){return new v(t,e)}defaultInstance(){return new v}}t.CurveToCubicSmoothAbs=v;class _ extends o{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r,i){const o=t instanceof s.Point?t:new s.Point(t,n),c=n instanceof s.Point?n:new s.Point(r,i);super(e.CurveToCubicSmoothRel,o,c)}buildInstance(t,e){return new _(t,e)}defaultInstance(){return new _}}t.CurveToCubicSmoothRel=_;class w extends o{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r,i){const o=t instanceof s.Point?t:new s.Point(t,n),c=n instanceof s.Point?n:new s.Point(r,i);super(e.CurveToQuadraticAbs,o,c)}buildInstance(t,e){return new w(t,e)}defaultInstance(){return new w}}t.CurveToQuadraticAbs=w;class P extends o{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r,i){const o=t instanceof s.Point?t:new s.Point(t,n),c=n instanceof s.Point?n:new s.Point(r,i);super(e.CurveToQuadraticRel,o,c)}buildInstance(t,e){return new P(t,e)}defaultInstance(){return new P}}t.CurveToQuadraticRel=P;class y extends r{constructor(t=new s.Point(0,0),n=0){super(e.CurveToQuadraticSmoothAbs,t instanceof s.Point?t:new s.Point(t,n))}buildInstance(t){return new y(t)}defaultInstance(){return new y}}t.CurveToQuadraticSmoothAbs=y;class x extends r{constructor(t=new s.Point(0,0),n=0){super(e.CurveToQuadraticSmoothRel,t instanceof s.Point?t:new s.Point(t,n))}buildInstance(t){return new x(t)}defaultInstance(){return new x}}t.CurveToQuadraticSmoothRel=x;class S extends t{constructor(t,e=new s.Point(0,0),n=new s.Point(0,0),r=0,i=!1,o=!0){super(t),this.r=e,this.p=n,this.xAxisRotate=r,this.largeArc=i,this.sweepClockwise=o}toString(){return`${this.r.toString()} ${this.xAxisRotate} ${this.largeArc?1:0} ${this.sweepClockwise?1:0} ${this.p.toString()}`}parseArgs(t){const e=t.split(" ");return this.buildInstance(this.r.parse(e[0]),this.p.parse(e[4]),parseFloat(e[1]),"1"===e[2],"1"===e[3])}}t.ArcTo=S;class A extends S{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r,i,o,c,u){const a=t instanceof s.Point?t:new s.Point(t,n),l=n instanceof s.Point?n:new s.Point(r,i);let d=0,h=!1,p=!0;t instanceof s.Point&&n instanceof s.Point?(void 0!==r&&(d=r),void 0!==i&&(h=i),void 0!==o&&(p=o)):(void 0!==o&&(d=o),void 0!==c&&(h=c),void 0!==u&&(p=u)),super(e.ArcToAbs,a,l,d,h,p)}buildInstance(t,e,n,r,i){return new A(t,e,n,r,i)}defaultInstance(){return new A}}t.ArcToAbs=A;class T extends S{constructor(t=new s.Point(0,0),n=new s.Point(0,0),r,i,o,c,u){const a=t instanceof s.Point?t:new s.Point(t,n),l=n instanceof s.Point?n:new s.Point(r,i);let d=0,h=!1,p=!0;t instanceof s.Point&&n instanceof s.Point?(void 0!==r&&(d=r),void 0!==i&&(h=i),void 0!==o&&(p=o)):(void 0!==o&&(d=o),void 0!==c&&(h=c),void 0!==u&&(p=u)),super(e.ArcToRel,a,l,d,h,p)}buildInstance(t,e,n,r,i){return new T(t,e,n,r,i)}defaultInstance(){return new T}}t.ArcToRel=T}(o=e.PathSegment||(e.PathSegment={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PreserveAspectRatio=class{constructor(t,e,n){this.x=t,this.y=e,this.meetOrSlice=n}toString(){if(void 0!==this.x&&void 0!==this.y){let t=`x${this.x}Y${this.y}`;return void 0!==this.meetOrSlice&&(t+=" "+this.meetOrSlice),t}return"none"}}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(0)),r(n(75)),r(n(6)),r(n(5));const i=n(76);e.FilterPrimitives=i;const s=n(78);e.NonRenderables=s;const o=n(81);e.Renderables=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3),i=n(45),s=n(46),o=n(47),c=n(48),u=n(49),a=n(50),l=n(51),d=n(52),h=n(53),p=n(54),f=n(55),b=n(56),g=n(57),m=n(58),v=n(59),_=n(60),w=n(61),P=(t,e)=>{const n=Object.create(null);for(const e in t)n[e]=t[e];for(const t in e)n[t]=e[t];return n};e.Filter=class extends r.Element{constructor(t){super(t,"filter"),this.context=t,this._refCounter=0,this.context.addDef(this)}getUniquePrimitiveReference(){return(++this._refCounter).toString()}blend(t,e,n){return new i.Blend_Primitive(this,{in:e,in2:n,mode:t})}colorMatrix(t,e){return new s.ColorMatrix_Primitive(this,{in:e,type:t.type,values:t})}componentTransfer(t,e,n,r,i){const s=new o.ComponentTransfer_Primitive(this,{in:i});return s.add(new o.TransferFunction_Primitive(this,"R",t)),s.add(new o.TransferFunction_Primitive(this,"G",e)),s.add(new o.TransferFunction_Primitive(this,"B",n)),void 0!==r&&s.add(new o.TransferFunction_Primitive(this,"A",r)),s}composite(t,e,n,r,i,s,o){return new c.Composite_Primitive(this,{in:s,in2:o,operator:t,k1:e,k2:n,k3:r,k4:i})}convolveMatrix(t,e){return new u.ConvolveMatrix_Primitive(this,P(t,{in:e}))}diffuseLighting(t,e=[],n){const r=new p.DiffuseLighting(this,P(t,{in:n}));return this.addLights(r,e),r}displacementMap(t,e,n){return new a.DisplacementMap_Primitive(this,P(t,{in:e,in2:n}))}flood(t,e){const n=new l.Flood_Primitive(this,{"flood-color":t});return n.setAttributes({x:e.x,y:e.y,width:e.width,height:e.height}),n}gaussianBlur(t=0,e="duplicate",n){return new d.GaussianBlur_Primitive(this,{in:n,stdDeviation:t,edgeMode:e})}image(t,e){return new h.Image_Primitive(this,{"xlink:href":t,preserveAspectRatio:e})}merge(t){const e=new g.Merge_Primitive(this);return t.forEach(t=>{const n=new g.MergeNode_Primitive(this,{in:t});e.add(n)}),e}morphology(t,e,n){return new m.Morphology_Primitive(this,{in:n,operator:t,radius:e})}offset(t,e){return new v.Offset_Primitive(this,{in:e,dx:t.x,dy:t.y})}specularLighting(t,e=[]){const n=new b.SpecularLighting(this,t);return this.addLights(n,e),n}tile(t,e){const n=new _.Tile_Primitive(this,{in:e});return n.setAttributes({x:t.x,y:t.y,width:t.width,height:t.height}),n}turbulence(t){return new w.Turbulence_Primitive(this,t)}addLights(t,e){e.forEach(e=>{switch(e.type){case"point":t.add(new f.PointLight(this,e));break;case"distant":t.add(new f.DistantLight(this,e));break;case"spot":t.add(new f.SpotLight(this,e))}})}}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(45)),r(n(46)),r(n(47)),r(n(48)),r(n(49)),r(n(50)),r(n(51)),r(n(52)),r(n(53)),r(n(57)),r(n(58)),r(n(59)),r(n(60)),r(n(61));const i=n(77);e.Lighting=i},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(54)),r(n(56));const i=n(55);e.LightSource=i},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(25)),r(n(26)),r(n(27)),r(n(18));const i=n(79);e.PaintServers=i},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(17)),r(n(19));const i=n(80);e.Gradients=i},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(28)),r(n(29))},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(31)),r(n(30)),r(n(34)),r(n(8)),r(n(35)),r(n(4)),r(n(43));const i=n(82);e.Shapes=i},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(36)),r(n(37)),r(n(38)),r(n(39)),r(n(40)),r(n(41)),r(n(42))}])});